#!/bin/python
import os
import requests

def getidflags(serv, team):
    # for ip and port set 'SYSTEM_ID_FLAGS_IP' and 'SYSTEM_ID_FLAGS_PORT' in DestructiveFarm's config.py
    # they will be set automatically by (our) start_sploit.py
    # set them manually (or use the default values) for use not with (our) DestructiveFarm
    ip = os.getenv("IDFIP", "10.10.0.1")
    port = os.getenv("IDFPORT", "8081")

    url = f"http://{ip}:{port}/flagIds?service={serv}&team={team}"
    #print(url)
    response = requests.get(url)
    # returns a dictionary
    return response.json()[serv][team]
